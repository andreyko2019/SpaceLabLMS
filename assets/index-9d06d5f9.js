import{d as D,r as u,h as I,c as t,a as s,j as f,u as n,k as b,b as m,t as _,F as c,l as h,V as w,o as a,m as v,n as A,f as $,q as E,s as F}from"./index-4528f77c.js";import{P as L}from"./base-02c89181.js";const S={class:"dashboard"},U={class:"container"},j={class:"dashboard__info"},q={class:"dashboard__info-row"},M={class:"dashboard__info-column"},z={key:1,class:"dashboard__info-photo"},G={key:2,class:"dashboard__info-not-avatar"},H={class:"dashboard__info-user"},J={class:"dashboard__info-data"},K={class:"dashboard__info-data"},O=["href"],Q={class:"dashboard__edit"},X=D({__name:"DashboardPage",setup(R){const i=u([]),l=u(""),r=u(!0),y=u([]);async function N(){try{const d=await w(L,"getPersonalData");if(d.data){const{contact:p,image:e}=d.data,{name:o,middleName:B,lastName:C,telegram:k,telephone:g,email:x}=p;i.value=[o,B,C],l.value=e,y.value=[{name:k,href:`https://t.me/${k}`},{name:g,href:`tel:${g}`},{name:x,href:`mailto:${x}`}],r.value=!1,console.log(l.value)}}catch(d){console.error("Помилка при отриманні даних користувача:",d),r.value=!1}}I(async()=>{await N()});const V=[{label:"Прізвище",name:"lastname"},{label:"Ім'я",name:"username"},{label:"По батькові",name:"middlename"}],P=["Ім`я:","По батькові:","Прізвище:","Телеграм:","Телефон:","Email:"];return(d,p)=>(a(),t("section",S,[s("div",U,[s("div",j,[s("div",q,[s("div",M,[r.value?(a(),f(n(v),{key:0,modify:"avatar"})):b("",!0),l.value?(a(),t("div",z,[m(n(A),{src:l.value,alt:"avatar"},null,8,["src"])])):b("",!0),l.value==null?(a(),t("div",G,[s("span",null,_(i.value[0][0]),1),s("span",null,_(i.value[1][0]),1)])):b("",!0),m(n($),{class:"dashboard__info-delete",type:"button",text:"Видалити фотографію"})]),s("div",H,[s("div",J,[r.value?(a(),f(n(v),{key:0,num:6,modify:"text"})):(a(),t(c,{key:1},h(P,(e,o)=>s("p",{class:"dashboard__info-text dashboard__edit-text_side-a",key:o},_(e),1)),64))]),s("div",K,[r.value?(a(),f(n(v),{key:0,num:6,modify:"text"})):(a(),t(c,{key:1},[(a(!0),t(c,null,h(i.value.slice(0,3),(e,o)=>(a(),t("p",{class:"dashboard__info-text dashboard__info-text_data",key:o},_(e),1))),128)),(a(!0),t(c,null,h(y.value,(e,o)=>(a(),t("a",{class:"dashboard__info-text dashboard__info-text_link",key:o,href:e.href},_(e.name),9,O))),128))],64))])])])]),s("form",Q,[m(n(E),{label:"Змінити фото",name:"file"}),(a(),t(c,null,h(V,(e,o)=>m(n(F),{key:o,label:e.label,name:e.name,placeholder:e.label},null,8,["label","name","placeholder"])),64))])])]))}});export{X as default};
